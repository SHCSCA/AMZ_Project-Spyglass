spring:
  datasource:
    url: jdbc:mysql://shcamz.xyz:3306/amzspaglass?useSSL=false&serverTimezone=Asia/Shanghai&characterEncoding=utf8
    username: amzspaglass
    password: RYna5tjK7nKwZd7J
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect
  flyway:
    enabled: false
    locations: classpath:db/migration
    baseline-on-migrate: true
    validate-on-migrate: true

server:
  port: ${PORT:8080}

# Spring Doc OpenAPI 配置
springdoc:
  swagger-ui:
    path: /swagger-ui.html
  api-docs:
    path: /v3/api-docs

# 爬虫配置
scraper:
  selenium:
    enabled: ${SELENIUM_ENABLED:true}  # 是否启用Selenium（资源受限时可设为false）
  inventory:
    estimator:
      enabled: ${INVENTORY_ESTIMATOR_ENABLED:false}  # 999加购法库存估算（较慢，按需启用）
  proxy:
    enabled: true
    providers:
      - name: brightdata
        type: RESIDENTIAL
        url: ${PROXY_URL:}
        username: ${PROXY_USER:}
        password: ${PROXY_PASS:}
  fixedDelayMs: ${SCRAPER_DELAY:14400000}  # 抓取间隔（默认4小时）
  downloadImageBinary: ${DOWNLOAD_IMAGE:false}  # 是否下载图片二进制计算真实MD5

# 钉钉配置
dingtalk:
  webhook: ${DINGTALK_WEBHOOK:}
  enabled: ${DINGTALK_ENABLED:true}
